# MoneyFlow PRD (Product Requirements Document)

## 📋 프로젝트 개요

**프로젝트명**: MoneyFlow  
**목적**: 조직(가족/팀) 단위의 종합 가계부 관리 시스템  
**대상 사용자**: 가족, 소규모 조직에서 공동으로 재정을 관리하고 싶은 사용자들  
**시작일**: 2025-01-08  

## 🎯 핵심 가치 제안

- **조직 단위 관리**: 가족/팀 단위로 재정을 공유하고 관리
- **3단계 분류 체계**: 대분류(수입/저축/지출) → 중분류 → 세분류로 체계적 관리
- **실시간 동기화**: 조직 내 모든 구성원의 입력이 실시간으로 반영
- **목표 지향적**: 자산 증가 목표 설정 및 달성률 추적
- **직관적 UX**: 복잡한 재정 관리를 간단하게 만드는 사용자 경험

## 🏗️ 기술 스택

### 개발 환경
- **패키지 매니저**: pnpm
- **프레임워크**: Next.js 15 (App Router)
- **UI 라이브러리**: HeroUI
- **스타일링**: Tailwind CSS
- **빌드 도구**: Turbopack (Next.js 내장)

### 백엔드 & 데이터베이스
- **데이터베이스**: Supabase (PostgreSQL)
- **인증**: Supabase Auth (이메일/패스워드, 구글/카카오 소셜 로그인)
- **실시간**: Supabase Realtime
- **스토리지**: Supabase Storage
- **API**: Next.js Server Actions + Route Handlers

### 데이터 관리
- **데이터 페칭**: TanStack Query + Next.js Server Actions
- **폼 관리**: TanStack Form
- **테이블**: TanStack Table
- **차트**: Recharts
- **아이콘**: Lucide React
- **날짜 처리**: date-fns

### 배포 & 인프라
- **배포**: Vercel
- **모니터링**: Vercel Analytics + Supabase Dashboard

## 📊 분류 체계

### 3단계 계층구조
```
1단계: 대분류 (수입/저축/지출)
├── 2단계: 중분류 (월급, 부수입, 상여 등)
    └── 3단계: 세분류 (남편 월급, 아내 월급 등)
```

### 기본 분류 예시

#### 💰 수입
- **월급**: 남편 월급, 아내 월급, 시간외수당
- **부수입**: 프리랜서 수익, 투자 수익, 임대 수익
- **상여**: 성과급, 보너스, 인센티브
- **기타수입**: 용돈, 선물

#### 💵 저축
- **예적금**: 정기예금, 정기적금, 자유적금
- **투자**: 국내주식, 해외주식, 펀드, 부동산
- **목적통장**: 청약통장, 여행자금, 비상자금
- **연금**: IRP, 변액연금, 퇴직연금

#### 💸 지출
- **고정지출**: 월세/관리비, 보험료, 통신비, 구독서비스
- **변동지출**: 식비, 교통비, 쇼핑, 문화생활
- **특별지출**: 여행, 경조사, 의료비, 교육비

## 🎨 핵심 기능 개요

### 1. 사용자 & 조직 관리
- **인증**: 이메일/패스워드, 구글/카카오 소셜 로그인
- **조직 관리**: 조직 생성, 멤버 초대, 역할 및 권한 관리

### 2. 거래 관리
- **기본 CRUD**: 거래 입력, 수정, 삭제, 조회
- **분류 시스템**: 3단계 계층 분류로 체계적 관리
- **검색 & 필터**: 다양한 조건으로 거래 내역 검색

### 3. 자산 관리
- **자산/부채 관리**: 자산과 부채 등록 및 추적
- **목표 설정**: 자산 증가 목표 설정 및 달성률 추적

### 4. 대시보드 & 분석
- **현황 요약**: 월별 수입/지출 현황
- **시각화**: 분류별 지출 분석, 자산 추이 차트
- **통계**: 기본적인 재정 상태 분석

### 5. 결제수단 관리
- **결제수단 등록**: 현금, 카드, 계좌 등
- **사용 현황**: 결제수단별 사용 통계

## 📱 주요 화면 구성

### 인증
- `/login` - 로그인
- `/signup` - 회원가입

### 메인
- `/dashboard` - 대시보드
- `/transactions` - 거래 관리
- `/assets` - 자산 관리
- `/analytics` - 통계 분석

### 설정
- `/organization` - 조직 관리
- `/categories` - 분류 관리
- `/payment-methods` - 결제수단 관리
- `/profile` - 개인 설정

## 🗄️ 데이터베이스 설계 (개요)

### 핵심 테이블
- **organizations**: 조직 정보
- **organization_members**: 조직 멤버 관계
- **categories**: 3단계 계층 분류 체계
- **payment_methods**: 결제수단
- **transactions**: 거래 내역
- **assets**: 자산 정보
- **debts**: 부채 정보

*상세 스키마는 개발 단계에서 작업 단위별로 설계 예정*

## 🎯 개발 로드맵

### Phase 1: MVP (4주)
- 기본 인증 시스템 (이메일/패스워드)
- 조직 생성 및 기본 관리
- 거래 CRUD 기능
- 간단한 분류 시스템
- 기본 대시보드

### Phase 2: 핵심 기능 (6주)
- 소셜 로그인 (구글/카카오)
- 3단계 분류 체계 완성
- 자산/부채 관리
- 권한 시스템
- 고급 대시보드 및 차트

### Phase 3: 고도화 (4주)
- 실시간 동기화
- 성능 최적화
- 모바일 반응형 완성
- 추가 기능 및 UX 개선

## 📈 성공 지표

### 사용자 지표
- 월간 활성 사용자 수 (MAU): 100명 이상
- 사용자 리텐션: 7일 리텐션 70% 이상
- 조직 참여도: 조직당 평균 2명 이상 활성 사용자

### 기능 지표
- 거래 입력 빈도: 사용자당 주 5회 이상
- 분류 사용률: 커스텀 분류 활용도
- 목표 달성률: 설정한 목표 달성 추적

### 기술 지표
- 페이지 로딩 시간: 3초 이내
- API 응답 시간: 1초 이내
- 에러율: 1% 이하

## 💰 비용 계획

### 개발 환경 (무료)
- TanStack Start, HeroUI, React 등 오픈소스 라이브러리

### 운영 환경
- **Supabase**: 무료 플랜 → Pro 플랜 ($25/월)
- **Vercel**: 무료 플랜 → Pro 플랜 ($20/월)
- **도메인**: 연 $10-20
- **총 예상 비용**: 월 $45-50

## 🔮 향후 확장 계획

### 단기 (6개월)
- 모바일 앱 개발
- 오픈뱅킹 연동
- AI 기반 지출 분석

### 중기 (1년)
- 기업용 버전
- API 제공
- 다국어 지원

### 장기 (2년)
- 투자 조언 기능
- 보험 연계
- 세무 연계

## 🛡️ 리스크 관리

### 기술적 리스크
- TanStack Start 베타 버전 안정성
- Supabase 의존성
- 성능 이슈 대응

### 비즈니스 리스크
- 경쟁 서비스 대응
- 사용자 확보 전략
- 수익 모델 개발

## 📝 작업 방식

- **상세 설계**: 각 기능별로 작업 단위를 나눠서 진행
- **단계별 개발**: MVP → 핵심 기능 → 고도화 순서로 진행
- **지속적 개선**: 사용자 피드백을 반영한 점진적 개선

---

**작성일**: 2025-01-08  
**작성자**: MoneyFlow Team  
**버전**: 1.0  
**최종 업데이트**: 2025-01-08 